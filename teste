def handle_update_operador(event, trace, body):
    chamado = int(body["chamado"])
    responsavel = body["ResponsavelAcompanhamento"]
    timestamp_responsavel = datetime.now(timezone.utc).isoformat()

    # Atualiza apenas ResponsavelAcompanhamento + timestamp_responsavel
    update = {
        "ResponsavelAcompanhamento": responsavel,
        "timestamp_responsavel": timestamp_responsavel
    }
    update_chamado(trace, chamado, update)

    # Payload enxuto para front
    payload = {
        "event": "updateOperador",
        "chamado": chamado,
        "ResponsavelAcompanhamento": responsavel,
        "timestamp_responsavel": timestamp_responsavel
    }

    broadcast(payload)

    return {
        "statusCode": 200,
        "body": json.dumps(payload, cls=DecimalEncoder)
    }
