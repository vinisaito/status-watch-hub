import { ChangeAnalysis } from "@/components/ChangeAnalysis";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent } from "@/components/ui/card";
import { Brain, ShieldAlert, CheckCircle2, TriangleAlert, Download, Info, CalendarDays } from "lucide-react";

const Index = () => {
  return (
    <div className="min-h-screen bg-background">
      {/* Header minimalista (ações) */}
      <header className="sticky top-0 z-20 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60">
        <div className="container mx-auto px-6">
          <div className="flex h-14 items-center justify-end gap-2">
            <Button variant="secondary" type="button">
              <Download className="size-4" />
              Exportar PDF
            </Button>
            <Button type="button">
              <Brain className="size-4" />
              Nova análise
            </Button>
          </div>
        </div>
      </header>

      {/* Conteúdo em coluna estreita (formato vertical) */}
      <main className="container mx-auto max-w-3xl px-6 py-8 space-y-6">
        {/* Cabeçalho do Relatório */}
        <Card className="shadow-card">
          <CardContent className="p-6">
            <div className="flex items-start justify-between gap-4">
              <div>
                <h1 className="text-2xl font-bold tracking-tight">Score de RDMs - 537702</h1>
                <p className="mt-1 text-sm text-muted-foreground">
                  Avaliação de riscos, clareza e conformidade das mudanças.
                </p>
                <div className="mt-3 flex flex-wrap items-center gap-2 text-sm">
                  <Badge variant="default">Medio</Badge>
                  <div className="flex items-center gap-1 text-muted-foreground">
                    <CalendarDays className="size-4" />
                    Última atualização: {new Date().toLocaleDateString("pt-BR", { day: "2-digit", month: "long", year: "numeric" })}
                  </div>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Resumo Executivo */}
        <Card className="shadow-card">
          <CardContent className="p-6">
            <h2 className="text-lg font-semibold">Resumo Executivo</h2>
            <div className="mt-4 space-y-3">
              <div className="flex items-center justify-between rounded-md border p-3">
                <div className="flex items-center gap-2 text-danger">
                  <ShieldAlert className="size-5" />
                  <span className="font-medium">Acompanhar</span>
                </div>
                <div className="text-xl font-semibold">1</div>
              </div>
              <div className="flex items-center justify-between rounded-md border p-3">
                <div className="flex items-center gap-2 text-warning">
                  <TriangleAlert className="size-5" />
                  <span className="font-medium">Atenção</span>
                </div>
                <div className="text-xl font-semibold">2</div>
              </div>
              <div className="flex items-center justify-between rounded-md border p-3">
                <div className="flex items-center gap-2 text-success">
                  <CheckCircle2 className="size-5" />
                  <span className="font-medium">OK</span>
                </div>
                <div className="text-xl font-semibold">2</div>
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Insights */}
        <Card className="shadow-card">
          <CardContent className="p-6">
            <div className="flex items-center gap-2">
              <Info className="size-4 text-primary" />
              <h2 className="text-lg font-semibold">Insights (Gerado por IA)</h2>
            </div>
            <div className="mt-3 space-y-2 text-sm text-muted-foreground">
              <p>
                Foi identificado que houve alguns campos que estão preenchidos de maneira não devida e outros campos preenchidos corretamente. Com isso, a classificação do Score é "Médio"
              </p>
            </div>
          </CardContent>
        </Card>

        {/* Detalhamento por Campo */}
        <div className="space-y-2">
          <ChangeAnalysis />
        </div>
      </main>
    </div>
  );
};

export default Index;
