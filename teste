const updateStatusFinal = useCallback((
  chamado: number,
  levelOrKey: string | number,
  status: string
) => {
  if (typeof levelOrKey === "number") {
    // ğŸ”¹ Caso: atualizar um levelX_status
    const levelStatusKey = `level${levelOrKey}_status`;
    console.log("[updateStatusFinal] Atualizando nÃ­vel:", { chamado, levelStatusKey, status });

    return sendMessage({
      action: "updateStatusFinal",
      chamado,
      levelStatusKey,
      status,
    });
  }

  if (levelOrKey === "statusFinal") {
    // ğŸ”¹ Caso: finalizar chamado inteiro
    console.log("[updateStatusFinal] Finalizando chamado:", { chamado, statusFinal: status });

    return sendMessage({
      action: "updateStatusFinal",
      chamado,
      statusFinal: status,
    });
  }

  // ğŸ”¹ Caso: chave explÃ­cita (ex: "level3_status")
  console.log("[updateStatusFinal] Atualizando chave explÃ­cita:", { chamado, levelStatusKey: levelOrKey, status });

  return sendMessage({
    action: "updateStatusFinal",
    chamado,
    levelStatusKey: levelOrKey,
    status,
  });
}, [sendMessage]);
